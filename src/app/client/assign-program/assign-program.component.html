<ng-container >
    <h3>Program</h3>
    <ion-spinner [hidden]="(programList$ | async).length !== 0"></ion-spinner>
    <form [formGroup]=form (ngSubmit)=onSubmit(form.value)>
        <ion-row [hidden]="(programList$ | async).length === 0">
            <ion-col size=12 *ngIf="(iAmTrainer$ | async)">
                <mat-form-field>
                    <mat-label>Programs</mat-label>
                    <mat-select [formControl]="programs" name="programs" [compareWith]="comparePrograms">
                        <mat-option *ngFor="let program of (programList$ | async)"
                                    [value]="program">{{program.name}}</mat-option>
                    </mat-select>
                </mat-form-field>
                <ion-button [disabled]="form.invalid || (requestInProgress$ | async) || programs.value === defaultProgram"
                            type="submit"
                            expand="full">
                    <ion-icon name="fitness"></ion-icon>Assign Program
                </ion-button>
            </ion-col>
            <ion-col size=12>
                <program-preview *ngIf="defaultProgram" [program]="defaultProgram" [routerLink]="'/programs/' + defaultProgram.id"></program-preview>
            </ion-col>
        </ion-row>
    </form>
</ng-container>
